    </div>
      <script>
        // --- PARTE 1: LÓGICA DE CRIAÇÃO E RESOLUÇÃO DOS TIJOLOS ---

        // Elementos do HTML que vamos manipular
        const gauge = document.getElementById('gauge');
        const bricksBg = document.getElementById('bricksBg');
        const bricksFg = document.getElementById('bricksFg');
        const brickScaleSlider = document.getElementById('optBrickScale');

        // Configurações iniciais dos tijolos
        const BRICK_BASE_WIDTH = 80; // Largura base de um tijolo em pixels
        const BRICK_ASPECT_RATIO = 2.2; // Proporção do tijolo (largura / altura)

        /**
         * Função que cria a grade de tijolos.
         * @param {HTMLElement} container - O elemento onde os tijolos serão inseridos.
         * @param {number} scale - O fator de escala (0.6 a 1.0) vindo do slider.
         */
        function createBricks(container, scale = 1.0) {
          // Limpa tijolos antigos antes de criar novos
          container.innerHTML = '';

          // Pega as dimensões do contêiner principal
          const width = gauge.clientWidth;
          const height = gauge.clientHeight;

          // Calcula o tamanho do tijolo baseado na escala do slider
          const brickWidth = BRICK_BASE_WIDTH * scale;
          const brickHeight = brickWidth / BRICK_ASPECT_RATIO;

          const numRows = Math.ceil(height / brickHeight);
          const numCols = Math.ceil(width / brickWidth);

          // Loop para criar cada linha de tijolos
          for (let row = 0; row < numRows; row++) {
            // Loop para criar cada tijolo na linha
            for (let col = 0; col < numCols; col++) {
              const brick = document.createElement('div');
              brick.className = 'brick';

              // Calcula a posição (left, top) de cada tijolo
              let left = col * brickWidth;
              const top = row * brickHeight;
              
              // Adiciona o deslocamento em linhas ímpares para o efeito de amarração
              if (row % 2 !== 0) {
                left -= brickWidth / 2;
              }

              // Aplica o estilo ao tijolo
              brick.style.width = `${brickWidth}px`;
              brick.style.height = `${brickHeight}px`;
              brick.style.left = `${left}px`;
              brick.style.top = `${top}px`;
              
              // Adiciona o tijolo ao contêiner
              container.appendChild(brick);
            }
          }
        }
        
        // Função para recriar os tijolos quando o slider mudar
        function handleScaleChange() {
            const scale = brickScaleSlider.value;
            // Recria tanto no fundo (background) quanto na frente (foreground)
            createBricks(bricksBg, scale);
            createBricks(bricksFg, scale);
        }

        // Adiciona o "ouvinte" de evento ao slider
        brickScaleSlider.addEventListener('input', handleScaleChange);


        // --- PARTE 2: LÓGICA DO CONTRASTE E PALETAS DE CORES ---

        const paletteSelector = document.getElementById('optPalette');
        const rootElement = document.documentElement; // Representa a tag <html>

        // Define as paletas de cores. Você pode adicionar mais aqui!
        const palettes = {
          'brand3': { // Paleta original melhorada
            '--brick-bg-color': '#8B1E1E', // Vinho forte
            '--grid': '#6D1717', // Sombra do vinho
            '--bg': '#FFFAF5', // Fundo original
            '--grout': '#E5DBD1', // Cimento original
          },
          'brand2': { // Paleta de alto contraste
            '--brick-bg-color': '#D9531E', // Laranja vibrante
            '--grid': '#B54518', // Sombra do laranja
            '--bg': '#F0F4F8', // Fundo azulado claro
            '--grout': '#D8DEE4', // Cimento mais frio
          },
          // Adicione uma nova paleta aqui se quiser, por exemplo:
          // 'dark-mode': {
          //   '--brick-bg-color': '#FFA500',
          //   '--grid': '#BF7D00',
          //   '--bg': '#1A1A1A',
          //   '--grout': '#4A4A4A',
          // }
        };

        /**
         * Aplica uma paleta de cores ao documento.
         * @param {string} paletteName - O nome da paleta (ex: 'brand3').
         */
        function applyPalette(paletteName) {
          const selectedPalette = palettes[paletteName];
          // Percorre cada cor na paleta e aplica como uma variável CSS
          for (const [key, value] of Object.entries(selectedPalette)) {
            rootElement.style.setProperty(key, value);
          }
        }

        // Adiciona o "ouvinte" de evento ao seletor de paletas
        paletteSelector.addEventListener('change', (event) => {
          applyPalette(event.target.value);
        });


        // --- INICIALIZAÇÃO ---
        // Quando a página carregar, executa estas funções pela primeira vez.
        
        // 1. Aplica a paleta selecionada por padrão
        applyPalette(paletteSelector.value);
        
        // 2. Cria a primeira grade de tijolos com a escala padrão
        handleScaleChange();

      </script>
    </body>
</html>
